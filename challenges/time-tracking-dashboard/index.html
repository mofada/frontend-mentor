<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<!-- displays site properly based on user's device -->

	<link rel="icon" type="image/png" sizes="32x32" href="./images/favicon-32x32.png">

	<title>Frontend Mentor | Time tracking dashboard</title>

	<!--loading font-->
	<link href="fonts/rubik.css" rel="stylesheet">

	<!--use local tailwind-->
	<script src="tailwindcss/tailwind-config.js" type="module"></script>

	<script>
        function toggleVisible() {
            const container = document.querySelector('main');
            container.classList.toggle('hidden');
        }
	</script>

	<script type="module">
        /**
         * Load data from json file
         */
		let data
        /**
         * Current data type
         */
        let currentType = 'weekly'

        function loadData() {
            fetch('./data.json')
                .then((response) => response.json())
                .then((json) => data = json)
                .then(() => showData('weekly'))
        }

        function initContainer() {
            const mainContainer = document.querySelector("main");

            // work
            const workSection = createItem('Work', 'bg-work', 'images/icon-work.svg');
            mainContainer.appendChild(workSection);

            // play
            const playSection = createItem('Play', 'bg-play', 'images/icon-play.svg');
            mainContainer.appendChild(playSection);

            // study
            const studySection = createItem('Study', 'bg-study', 'images/icon-study.svg');
            mainContainer.appendChild(studySection);

            // exercise
            const exerciseSection = createItem('Exercise', 'bg-exercise', 'images/icon-exercise.svg');
            mainContainer.appendChild(exerciseSection);

            // social
            const socialSection = createItem('Social', 'bg-social', 'images/icon-social.svg');
            mainContainer.appendChild(socialSection);

            // self care
            const selfCareSection = createItem('Self Care', 'bg-self-care', 'images/icon-self-care.svg');
            mainContainer.appendChild(selfCareSection);
        }

        /**
         * Create a section element
         * @param title - section title
         * @param bgColor - background color
         * @param icon - icon image
         * @returns {HTMLElement}
         */
        function createItem(title, bgColor, icon) {
            const sectionElement = document.createElement('section');
            // set id
            sectionElement.id = title.toLowerCase();
            // set class name
            sectionElement.className = `${bgColor} rounded-2xl relative overflow-hidden shadow-xl`
            // set content
            sectionElement.innerHTML =
                `<!--decoration-->
					<img src="${icon}" alt="" class="absolute right-4 top-[-10px]">

					<article
					class="bg-dark-blue px-6 py-[30px] pb-8 mt-[38px] z-10 text-white relative rounded-2xl">
					<!--header-->
					<header class="flex justify-between items-center">
					<h2 class="font-medium leading-[18px]">${title}</h2>

					<button aria-label="More options">
					<img src="images/icon-ellipsis.svg" alt="">
					</button>
					</header>

					<!--time-->
					<section class="flex justify-between items-center mt-3">
					<h3 class="text-[32px] font-light">-hrs</h3>
					<p class="text-[15px]  text-desaturated-blue">Last Week - -hrs</p>
					</section>
					</article>
	            `

            return sectionElement;
        }

        /**
         * Show data based on type
         * @param type {'daily' | 'weekly' | 'monthly'} - data type
         */
        function showData(type) {
            console.log(data);
        }

        function onTypeChange(){
            const selectedValue = document.querySelector('input[name="report"]:checked').value;
			showData(selectedValue)
        }

        window.onload = () => {
            // load data
            loadData()

			initContainer()

            // 获取选中的 radio 按钮的值
            const selectedValue = document.querySelector('input[name="options"]:checked').value;
        }
	</script>
</head>
<body
		class="flex flex-col w-screen h-screen bg-very-dark-blue text-lg font-rubik">
<!--design template develop use, set screen width 1440px and develop-->
<!--if screen is mobile, set screen width 375px-->
<picture>
	<source media="(min-width: 768px)" srcset="design/desktop-design.jpg"/>
	<source media="(max-width: 768px)" srcset="design/mobile-design.jpg"/>
	<img src="design/mobile-design.jpg"
	     alt="background" class="w-full z-0 absolute top-0 lg:bottom-0 lg:h-full"/>
</picture>
<button class="fixed right-5 top-5 text-white z-20" onclick="toggleVisible()">Toggle</button>

<main class="grid gap-y-[26px] px-6 py-20 md:m-auto opacity-85 z-10">
	<section class="bg-dark-blue rounded-2xl">
		<header
				class="bg-blue rounded-2xl px-7 py-[32px] grid grid-cols-[auto,minmax(0,1fr)] grid-rows-[min-content,min-content] items-center gap-x-4">
			<!--avatar-->
			<figure class="w-[70px] row-span-full bg-white rounded-full p-[3px]">
				<img src="images/image-jeremy.png" alt="avatar"
				     class="w-full h-full object-cover"/>
			</figure>

			<h2 class="text-[16px] text-pale-blue font-light">
				Report for
			</h2>
			<h1 class="text-[24px] text-white font-light self-start">
				Jeremy Robson
			</h1>
		</header>

		<!--action-->
		<footer class="text-desaturated-blue py-5 px-5 flex justify-between">
			<label class="has-[:checked]:text-white">
				<input type="radio" name="report" value="daily" class="appearance-none">
				Daily
			</label>
			<label class="has-[:checked]:text-white">
				<input type="radio" name="report" value="weekly" checked class="appearance-none">
				Weekly
			</label>
			<label class="has-[:checked]:text-white">
				<input type="radio" name="report" value="monthly" class="appearance-none">
				Monthly
			</label>
		</footer>
	</section>

	<!--use js add container-->
	<!--	<section-->
	<!--			class="bg-work rounded-2xl relative overflow-hidden shadow-xl">-->
	<!--		<img src="images/icon-work.svg" alt="" class="absolute right-4 top-[-10px]">-->

	<!--		<article-->
	<!--				class="bg-dark-blue px-6 py-[30px] pb-8 mt-[38px] z-10 text-white relative rounded-2xl">-->
	<!--			<header class="flex justify-between items-center">-->
	<!--				<h2 class="font-medium leading-[18px]">Work</h2>-->

	<!--				<button aria-label="More options">-->
	<!--					<img src="images/icon-ellipsis.svg" alt="">-->
	<!--				</button>-->
	<!--			</header>-->

	<!--			<section class="flex justify-between items-center mt-3">-->
	<!--				<h3 class="text-[32px] font-light">32hrs</h3>-->
	<!--				<p class="text-[15px]  text-desaturated-blue">Last Week - 36hrs</p>-->
	<!--			</section>-->
	<!--		</article>-->
	<!--	</section>-->
</main>


<div class="hidden">
	Work
	5hrs <!-- daily -->
	Previous - 7hrs <!-- daily -->
	32hrs <!-- weekly -->
	Previous - 36hrs <!-- weekly -->
	103hrs <!-- monthly -->
	Previous - 128hrs <!-- monthly -->

	Play
	1hr <!-- daily -->
	Previous - 2hrs <!-- daily -->
	10hrs <!-- weekly -->
	Previous - 8hrs <!-- weekly -->
	23hrs <!-- monthly -->
	Previous - 29hrs <!-- monthly -->

	Study
	0hrs <!-- daily -->
	Previous - 1hr <!-- daily -->
	4hrs <!-- weekly -->
	Previous - 7hrs <!-- weekly -->
	13hrs <!-- monthly -->
	Previous - 19hrs <!-- monthly -->

	Exercise
	1hr <!-- daily -->
	Previous - 1hr <!-- daily -->
	4hrs <!-- weekly -->
	Previous - 5hrs <!-- weekly -->
	11hrs <!-- monthly -->
	Previous - 18hrs <!-- monthly -->

	Social
	1hr <!-- daily -->
	Previous - 3hrs <!-- daily -->
	5hrs <!-- weekly -->
	Previous - 10hrs <!-- weekly -->
	21hrs <!-- monthly -->
	Previous - 23hrs <!-- monthly -->

	Self Care
	0hrs <!-- daily -->
	Previous - 1hr <!-- daily -->
	2hrs <!-- weekly -->
	Previous - 2hrs <!-- weekly -->
	7hrs <!-- monthly -->
	Previous - 11hrs <!-- monthly -->
</div>

<footer class="text-xs text-center bottom-0 inset-x-0 md:fixed z-50 text-white">
	Challenge by
	<a href="https://www.frontendmentor.io?ref=challenge" target="_blank"
	   class="text-pale-blue">
		Frontend Mentor .
	</a>
	Coded by
	<a href="https://www.frontendmentor.io/profile/mofada"
	   class="text-pale-blue">
		Fada Mo.
	</a>
</footer>
</body>
</html>
